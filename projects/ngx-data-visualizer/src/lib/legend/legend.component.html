<div class="legend-wrapper">
  <button type="button" class="legend-show-button clear-button" (click)="onClickShowLegends()">Ver leyendas</button>

  <div #legends class="legends" [hidden]="!showLegends">
    @for (seriesElement of series(); track seriesElement.name) {
    <button class="legend clear-button" [title]="seriesElement.name"
      (click)="onClickLegend(seriesElement)" (mouseenter)="onHoverLegend(seriesElement)"
      (mouseleave)="onHoverLegend(seriesElement)">

      @if (seriesElement.visible) {
      <svg xmlns="http://www.w3.org/2000/svg" title="Mostrar" [style.color]="seriesElement.color" fill="currentcolor"
        class="series-icon" viewBox="0 0 512 512">
        <path
          d="M416 464H96a48.05 48.05 0 01-48-48V96a48.05 48.05 0 0148-48h320a48.05 48.05 0 0148 48v320a48.05 48.05 0 01-48 48z" />
      </svg>
      } @else {
      <svg xmlns="http://www.w3.org/2000/svg" title="Ocultar" [style.color]="seriesElement.color" class="series-icon"
        viewBox="0 0 512 512">
        <path
          d="M416 448H96a32.09 32.09 0 01-32-32V96a32.09 32.09 0 0132-32h320a32.09 32.09 0 0132 32v320a32.09 32.09 0 01-32 32z"
          fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" />
      </svg>
      }
      <span>{{seriesElement.name}}</span>
    </button>
    }
  </div>
</div>