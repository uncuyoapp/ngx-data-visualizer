<div class="charts-container">

  @for (chartConfiguration of chartConfigurations; track $index) {
  <div #chartItem [id]="'chartItem'+$index" class="chart-item">

    @if ($index !== 0) {
    <lib-icon-back class="icon-nav back" (click)="moveToChartItem('chartItem'+($index - 1))"
      (keypress)="moveToChartItem('chartItem'+($index - 1))"></lib-icon-back>
    }

    <ng-container *ngComponentOutlet="chartComponent; inputs: {chartConfiguration: chartConfiguration}"></ng-container>

    @if($index !== chartConfigurations.length - 1){
    <lib-icon-forward class="icon-nav forward" (click)="moveToChartItem('chartItem'+($index + 1))"
      (keypress)="moveToChartItem('chartItem'+($index + 1))"></lib-icon-forward>
    }


    @if(chartConfiguration.expanded){
    <lib-icon-contract class="icon-expand" (click)="expandChartItem(chartItem,chartConfiguration)"
      (keypress)="expandChartItem(chartItem,chartConfiguration)"></lib-icon-contract>
    } @else {
    <lib-icon-expand class="icon-expand" (click)="expandChartItem(chartItem,chartConfiguration)"
      (keypress)="expandChartItem(chartItem,chartConfiguration)"></lib-icon-expand>
    }

  </div>
  }
</div>